 set kernel DPC+
 goto _Bank_2 bank2
 bank 2
 temp1=temp1
_Bank_2
 dim musicPointer=a
 dim musicTimer=b
 AUDV0=0
 AUDC0=4
 musicPointer=0
 musicTimer=0

 scorecolors:
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
end

 DF0FRACINC = 64
 DF1FRACINC = 64
 DF2FRACINC = 64
 DF3FRACINC = 64
 DF4FRACINC = 128
 DF6FRACINC = 128
 bkcolors:
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
 $06
end
 pfcolors:
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
 $1E
end
 playfield:
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
 X..............XX..............X
 X..............XX..............X
 X......X.......XX.......X......X
 X..............XX..............X
end

 player0color:
 $34
 $34
 $34
 $34
 $34
 $34
 $50
 $50
 $50
 $50
 $50
 $50
 $50
 $50
 $50
 $50
end

 player0:
 %00111100
 %01111110
 %01100110
 %01111110
 %01111110
 %00111100
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
end

 player1color:
 $40
 $40
 $40
 $40
 $40
 $40
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
end

 player1:
 %00111100
 %01111110
 %01100110
 %01111110
 %01111110
 %00111100
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
end

 player2color:
 $5A
 $5A
 $5A
 $5A
 $5A
 $5A
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
end

 player2:
 %00111100
 %01111110
 %01100110
 %01111110
 %01111110
 %00111100
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
end

 player3color:
 $C0
 $C0
 $C0
 $C0
 $C0
 $C0
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
 $0E
end

 player3:
 %00111100
 %01111110
 %01100110
 %01111110
 %01111110
 %00111100
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
 %01111110
end

 x=100:y=60
 player1x=110:player1y=180
 player2x=50:player2y=180
 player3x=30:player3y=180
mainLoop
 player0x=x:player0y=y
 score = score+1
 player1y=player1y-2
 player2y=player2y-3
 player3y=player3y-4
 if player1y>180 then player1x=rand/2:player1y=180
 if player1x<19 || player1x > 134 then player1x=100
 if player2y>180 then player2x=rand/2:player2y=180
 if player2x<19 || player2x > 134 then player2x=100
 if player3y>180 then player3x=rand/2:player3y=180
 if player3x<19 || player3x > 134 then player3x=133
 ;=========================
 if musicTimer = 0 then gosub changeMusicNote
 musicTimer = musicTimer - 1
 ;=========================
 if joy0right && x < 133 then x=x+1
 if joy0left && x > 19 then x=x-1
 if joy0up && y > 0 then y=y-2
 if joy0down && y<165 then y=y+2
 if collision(player0,player1) then goto over

 drawscreen

 goto mainLoop


changeMusicNote
  AUDF0 = musicData[musicPointer]
  if musicData[musicPointer] = $FF then AUDV0 = 0 else AUDV0 = 8
  musicPointer = musicPointer + 1
  musicTimer = musicData[musicPointer]
  musicPointer = musicPointer + 1
  if musicPointer > 23 then musicPointer = 0
 return

 data musicData
 26,19,15,13,21,24,30,21,
 17,15,21,23,30,24,26,15,
 11,14,17,24,30,15,19,27
end

over
 player0y=180: player1y=180:player2y=180:player3y=180
 if musicTimer = 0 then gosub changeMusicNotej
 musicTimer = musicTimer - 1
 DF0FRACINC = 64
 DF1FRACINC = 64
 DF2FRACINC = 64
 DF3FRACINC = 64
 DF4FRACINC = 128
 DF6FRACINC = 128
 bkcolors:
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $00
 $60
 $60
 $80
 $80
 $84
 $84
 $C4
 $C4
 $1E
 $1E
 $34
 $34
 $40
 $40
end
 pfcolors:
 $40
 $40
 $40
 $40
 $40
 $40
 $40
 $40
 $40
 $40
 $40
 $40
 $40
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
 $70
end
 playfield:
 ................................
 .....XXXX...X...XX.XX.XXXX......
 ....X......X.X..X.X.X.X.........
 ....X..XX..X.X..X.X.X.XXXX......
 ....X...X.XXXXX.X...X.X.........
 .....XXX..X...X.X...X.XXXX......
 ................................
 ................................
 .....XXX..X...X.XXXXX.XXXX......
 ....X...X.X...X.X.....X...X.....
 ....X...X..X.X..XXXXX.XXXX......
 ....X...X..X.X..X.....X..X......
 .....XXX....X...XXXXX.X...X.....
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
 ................................
end



 drawscreen
 goto over


changeMusicNotej
  AUDF0 = musicData[musicPointer]
  if musicData[musicPointer] = $FF then AUDV0 = 0 else AUDV0 = 8
  musicPointer = musicPointer + 1
  musicTimer = musicData[musicPointer]
  musicPointer = musicPointer + 1
  if musicPointer > 23 then musicPointer = 0
 return

 data musicDataj
 28,19,15,13,21,24,30,21,
 17,15,21,23,30,24,26,15,
 11,14,17,24,30,15,19,27
end
